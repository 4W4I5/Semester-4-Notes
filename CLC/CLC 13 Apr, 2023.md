Cont. Compute Module Instance Wizard

## EC2 Module Instance Wizard
- Bandwidth available varies by type
- To maximize bandwidth & networking b/w interdependent instances
	- Launch into a **Cluster Placement Group**
	- Enable **Enhanced Networking**
- Enhanced Networking
	- Also maximizes bandwidth & networking b/w multiple instances
	- **Types:**
		- ENA (Elastic Network Adapter): Supports speeds of up to 100GBps
		- Intel 82599 Virtual Function Interface: Supports speeds of up to 10GBps
- Instance Placement:
	- Identify target VPC & Optionally the subnet (Public/Private)
	- Should the IP be Elastic or Dynamic
	- Attach an IAM role (Optional but recommended)
		- Can be attached to an existing instance as well
- User Data (Optional):
	- Script to run at launch
	- Can be used to download and install packages at launch
	- One time use at launch only
	- **Usage Example**: 
		- Build and Maintain Custom AMI's 
- Storage Options:
	- If single its just a root volume. However, additional volumes can be attached as well
	- **Configuring a Volume**
		- Size of Disk in GB
		- Volume Type (Cold, Throughput HDD, General SSD, Provisioned IOPS)
			- Cannot chose HDD types if only Root volume is used
		- User flags
			- useEncryption
			- deleteOnInstanceTerminate
	- **Storage Options**
		- EBS
			- Durable
			- Block Level
			- Persistent
			- Permits root volume
		- EC2 Instance Store
			- Ephemeral Storage
				- Provided with EC2 Instance
			- Non-Persistent
				- Data persists after reboot
			- Free of cost
			- Permits root volume
		- EFS
			- Mount. (How? Why?)
		- S3
			- Connect. (How? Why?)
- Tags:
	- Label that can be assigned to a AWS Resource
		- Consists of a key & an optional value
	- Allows you to attach metadata
	- Benefits:
		- Filtering
		- Automation
		- Cost Allocation
		- Access Control
- Security Group:
	- A set of firewall rules that control traffic to the instance
		- Exists outside of the guest OS
	- Create rules that specify the source and which ports that network communication can use
		- Specify the port number and the protocol such as TCP/UDP/ICMP
		- Specify the source IP or another Security group that is allowed to use the rule
- Key Pair:
	- Enables Secure connections to the instance
	- Can use an existing key pair or generate a new one at launch
	- Consists of:
		- Public key that AWS stores
		- Private key that you store
	- OS dependent login
		- Windows: Use the private key to obtain the admin password to login 
		- Linux: Use the private key to login using SSH
- AWS CLI:
	- EC2 can also be launched from the AWS CLI 
		- aws ec2 run-instances 
			- --image-id ami-1a2b3c4d 
			- --count 1 
			- --instance-type c3.large
			- --key-name MyKeyPair 
			- --security-groups MySecurityGroup 
			- -- region us-east-1
	- Note that this assumes the key pair + security group already exists

### EC2 Instance Lifecycle
- Pending on launch
- Running after services are ready
- Actions taken from this point on the instance:
	- Reboot: State = rebooting
	- Stop/Hibernate = stopping
	- Terminate: State = shutting down / terminated
		- Stopped if EBS = stopping
- Hibernation Benefits
	- Saves contents from RAM
	- On instance restart, contents are loaded back into RAM
		- Saves the state of the instance as it was. Think of freezing in time all the processes inside the instance 
- Hibernation Limitations
	- Max Ram size is 150GB
	- Encrypted EBS Root volume
	- canHibernate = true
- EC2 Termination points
	- Upon stopping with EBS Persist/termination. EBS charges are still incurred
	- However the elastic IP is freed after termination

## Cloudwatch
- AWS Task manager essentially
- Monitor an instance
	- Maintains 15 months of historical data
	- Provides near-real time metrics
- Different Levels of monitoring
	- Basic 
		- Default, no additional cost
		- Metric data sent to CloudWatch every 5 min
	- Detailed
		- Fixed monthly rate for seven pre-selected metrics
		- Metric data delivered every 1 min